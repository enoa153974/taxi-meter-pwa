# タクシー運行支援 PWA

## このPWAは何か
タクシー運行中に「考える・探す・操作する」回数を減らすための、
個人利用向けタクシー運行支援PWA。

予測や指示はしない。
事実情報とツール等をまとめて表示する。

---

## 主な機能

### 基本操作
- 帰宅ライン送信ボタン
- ちゃっぴー（ChatGPT）を開くボタン
- マップを開くボタン
- 電卓を開くボタン

### 運行サポート
- 出勤時間からの稼働時間自動計算
- 京都のタクシー乗り場ライブカメラリンク集

### 天気パネル
- 現在地ベースの天気表示（OpenWeatherMap）
- 30分ごとの自動更新
- PWAが非表示のときは自動更新を停止
- 表示に戻ったら即時更新＋再開

---

## 設計方針（重要）

- 情報は「少なく・即判断できる」ことを最優先
- 運転中に操作が増えない設計
- 迷ったら機能を足さない
- 保存・記録より「今の判断」を支援する

---

## 将来的な拡張案：iOSショートカット連携（検討中）

本PWAは将来的に、iOSの「ショートカット」アプリと連携することを想定している。

### 想定している連携内容
- PWA内のボタン操作をトリガーに、iPhone端末側のショートカットを起動
- ショートカット側で以下のような端末操作を実行する想定
  - 電卓アプリを開く
  - マップアプリを開く（現在地／自宅など）
  - LINEで定型メッセージを送信
  - 帰宅モード（複数操作のまとめ実行）

### 技術的な想定
- PWA側では `shortcuts://` スキームのURLを開くのみ
- 実際の端末操作・アプリ起動はiOSショートカット側で管理
- PWAは「操作パネル」としての役割に徹する

### 現時点で実装しない理由
- まずはWeb/PWA単体での安定運用を優先するため
- 実際の運用で必要性が明確になってから実装する方針

※ iOS限定機能のため、Android対応は現時点では未検討

---

## 技術構成

- HTML / CSS / JavaScript（フレームワーク不使用）
- PWA（manifest.json / service worker）
- Geolocation API(天気パネルのための現在位置取得API)
- OpenWeatherMap API（無料プラン）

---

## ファイル構成（概要）

```txt
/
├ index.html
├ manifest.json
├ service-worker.js
├ css/
│  └ style.css
├ js/
│  └ app.js
└ README.md
